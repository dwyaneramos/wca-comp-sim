import{A as x,_ as I}from"./index-CP9t07o_.js";var o;function R(e){const n=typeof e;if(n=="number"||n=="boolean"||e==null)return`${e}`;if(n=="string")return`"${e}"`;if(n=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(n=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let c="[";i>0&&(c+=R(e[0]));for(let a=1;a<i;a++)c+=", "+R(e[a]);return c+="]",c}const t=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(t&&t.length>1)r=t[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}var _=0,d=null;function m(){return(d===null||d.byteLength===0)&&(d=new Uint8Array(o.memory.buffer)),d}var y=new TextEncoder;"encodeInto"in y||(y.encodeInto=function(e,n){const t=y.encode(e);return n.set(t),{read:e.length,written:t.length}});function u(e,n,t){if(t===void 0){const s=y.encode(e),f=n(s.length,1)>>>0;return m().subarray(f,f+s.length).set(s),_=s.length,f}let r=e.length,i=n(r,1)>>>0;const c=m();let a=0;for(;a<r;a++){const s=e.charCodeAt(a);if(s>127)break;c[i+a]=s}if(a!==r){a!==0&&(e=e.slice(a)),i=t(i,r,r=a+e.length*3,1)>>>0;const s=m().subarray(i+a,i+r),f=y.encodeInto(e,s);a+=f.written,i=t(i,r,a,1)>>>0}return _=a,i}var b=null;function p(){return(b===null||b.buffer.detached===!0||b.buffer.detached===void 0&&b.buffer!==o.memory.buffer)&&(b=new DataView(o.memory.buffer)),b}var h=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});h.decode();var L=2146435072,T=0;function N(e,n){return T+=n,T>=L&&(h=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),h.decode(),T=n),h.decode(m().subarray(e,e+n))}function w(e,n){return e=e>>>0,N(e,n)}function g(e){const n=o.__externref_table_alloc();return o.__wbindgen_externrefs.set(n,e),n}function O(e,n){try{return e.apply(this,n)}catch(t){const r=g(t);o.__wbindgen_exn_store(r)}}function j(e,n){return e=e>>>0,m().subarray(e/1,e/1+n)}function S(e){return e==null}function D(e){const n=o.__wbindgen_externrefs.get(e);return o.__externref_table_dealloc(e),n}function k(e,n,t){let r,i;try{const s=u(e,o.__wbindgen_malloc,o.__wbindgen_realloc),f=_,E=u(n,o.__wbindgen_malloc,o.__wbindgen_realloc),v=_,A=u(t,o.__wbindgen_malloc,o.__wbindgen_realloc),F=_,l=o.wasmDeriveScrambleForEvent(s,f,E,v,A,F);var c=l[0],a=l[1];if(l[3])throw c=0,a=0,D(l[2]);return r=c,i=a,w(c,a)}finally{o.__wbindgen_free(r,i,1)}}function B(){return o.wasmFreeMemoryForAllScrambleFinders()>>>0}function U(e,n,t){let r,i;try{const s=u(e,o.__wbindgen_malloc,o.__wbindgen_realloc),f=_,E=u(n,o.__wbindgen_malloc,o.__wbindgen_realloc),v=_,A=u(t,o.__wbindgen_malloc,o.__wbindgen_realloc),F=_,l=o.wasmTwips(s,f,E,v,A,F);var c=l[0],a=l[1];if(l[3])throw c=0,a=0,D(l[2]);return r=c,i=a,w(c,a)}finally{o.__wbindgen_free(r,i,1)}}function V(e){let n,t;try{const c=u(e,o.__wbindgen_malloc,o.__wbindgen_realloc),a=_,s=o.wasmRandomScrambleForEvent(c,a);var r=s[0],i=s[1];if(s[3])throw r=0,i=0,D(s[2]);return n=r,t=i,w(r,i)}finally{o.__wbindgen_free(n,t,1)}}var $=new Set(["basic","cors","default"]);async function P(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(r){if(e.ok&&$.has(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}else{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}function C(){const e={};return e.wbg={},e.wbg.__wbg___wbindgen_debug_string_df47ffb5e35e6763=function(n,t){const r=R(t),i=u(r,o.__wbindgen_malloc,o.__wbindgen_realloc),c=_;p().setInt32(n+4,c,!0),p().setInt32(n+0,i,!0)},e.wbg.__wbg___wbindgen_is_undefined_2d472862bd29a478=function(n){return n===void 0},e.wbg.__wbg___wbindgen_throw_b855445ff6a94295=function(n,t){throw new Error(w(n,t))},e.wbg.__wbg_call_e762c39fa8ea36bf=function(){return O(function(n,t){return n.call(t)},arguments)},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(n,t){let r,i;try{r=n,i=t,console.error(w(n,t))}finally{o.__wbindgen_free(r,i,1)}},e.wbg.__wbg_getRandomValues_1c61fac11405ffdc=function(){return O(function(n,t){globalThis.crypto.getRandomValues(j(n,t))},arguments)},e.wbg.__wbg_get_efcb449f58ec27c2=function(){return O(function(n,t){return Reflect.get(n,t)},arguments)},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},e.wbg.__wbg_new_no_args_ee98eee5275000a4=function(n,t){return new Function(w(n,t))},e.wbg.__wbg_now_f5ba683d8ce2c571=function(n){return n.now()},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(n,t){const r=t.stack,i=u(r,o.__wbindgen_malloc,o.__wbindgen_realloc),c=_;p().setInt32(n+4,c,!0),p().setInt32(n+0,i,!0)},e.wbg.__wbg_static_accessor_GLOBAL_89e1d9ac6a1b250e=function(){const n=typeof global>"u"?null:global;return S(n)?0:g(n)},e.wbg.__wbg_static_accessor_GLOBAL_THIS_8b530f326a9e48ac=function(){const n=typeof globalThis>"u"?null:globalThis;return S(n)?0:g(n)},e.wbg.__wbg_static_accessor_SELF_6fdf4b64710cc91b=function(){const n=typeof self>"u"?null:self;return S(n)?0:g(n)},e.wbg.__wbg_static_accessor_WINDOW_b45bfc5a37f6cfa2=function(){const n=typeof window>"u"?null:window;return S(n)?0:g(n)},e.wbg.__wbindgen_cast_2241b6af4c4b2941=function(n,t){return w(n,t)},e.wbg.__wbindgen_init_externref_table=function(){const n=o.__wbindgen_externrefs,t=n.grow(4);n.set(0,void 0),n.set(t+0,void 0),n.set(t+1,null),n.set(t+2,!0),n.set(t+3,!1)},e}function J(e,n){return o=e.exports,M.__wbindgen_wasm_module=n,b=null,d=null,o.__wbindgen_start(),o}async function M(e){if(o!==void 0)return o;if(typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u")throw new Error("Only base 64 WASM loading is supported at the moment.");const n=C();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:r}=await P(await e,n);return J(t,r)}var q=M,z;async function W(){await(z??=(async()=>{const e=(await I(async()=>{const{default:n}=await import("./twips_wasm_bg-TPXD7W4R-2BXON3G5-14QMlMD8.js");return{default:n}},[])).default;await q({module_or_path:e.buffer})})())}async function X(e){return await W(),new x(V(e))}async function Y(e,n,t){for(const r of n)if(r.includes("/"))throw new Error("Derivation salts cannot contain slashes.");return await W(),new x(k(e,n.join("/"),t))}async function H(e,n,t){return await W(),new x(U(JSON.stringify(e),JSON.stringify(n.toJSON().patternData),JSON.stringify(t)))}function K(){return B()}export{Y as wasmDeriveScrambleForEvent,K as wasmFreeMemoryForAllScrambleFinders,X as wasmRandomScrambleForEvent,H as wasmTwips};
